<div class="orders-container mt-4 orders-container" *ngIf="!loading; else loader">
  <h2>üìù Unseen Testimonials</h2>

  <table class="table table-striped table-bordered table-hover" *ngIf="testimonials.length > 0; else noData">
    <thead class="table-dark">
      <tr>
        <th>User</th>
        <th>Rating</th>
        <th>Comment</th>
      
        <th class="text-center">Actions</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let t of testimonials">
        <!-- üßë‚Äçüíª User Info -->
        <td>
          <b>{{ t.userId.name }}</b><br />
          <small>{{ t.userId.email }}</small>
        </td>

        <!-- ‚≠ê Rating -->
        <td>
          <span class="text-warning">
            <ng-container *ngFor="let star of [].constructor(t.rating)">‚≠ê</ng-container>
          </span>
          <span class="ms-1">({{ t.rating }})</span>
        </td>

        <!-- üí¨ Comment -->
        <td>{{ t.comment }}</td>

      

        <!-- ‚ö° Actions -->
        <td class="text-center">
          <!-- <button class="btn btn-sm btn-success me-1" (click)="approve(t._id)">Approve</button> -->
          <button class="btn btn-sm btn-primary me-1" (click)="markAsSeen(t._id)">Mark as Seen</button>
          <button class="btn btn-sm btn-danger" (click)="delete(t._id)">Delete</button>
        </td>
      </tr>
    </tbody>
  </table>
</div>

<ng-template #loader>
  <p>Loading testimonials...</p>
</ng-template>

<ng-template #noData>
  <p>No unseen testimonials found.</p>
</ng-template>
