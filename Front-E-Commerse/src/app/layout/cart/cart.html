<!-- 

<div *ngIf="cart$ | async as cart; else emptyCart">
  <h2>My Cart</h2>

  <div *ngFor="let item of cart.items" class="cart-item">
    <img [src]="StaticURL + '/' + item.imgurl" alt="{{ item.productName}}" class="cart-img">


    <div class="cart-details">
      <h3>{{ item.productName }}</h3>
      <p>Price: ${{ item.priceAtAdd }}</p>

      <div *ngIf="item.stockStatus !== 'In Stock'" class="stock-warning">
        {{ item.stockStatus === 'Limited Stock' ? 'Limited stock! Max 5 items.' : 'Out of Stock!' }}
      </div>

      <div class="quantity-controls">
        <button (click)="decrease(item.productId)">-</button>
        <span>{{ item.quantity }}</span>
        <button (click)="increase(item.productId)">+</button>
      </div>

      <button class="remove-btn" (click)="remove(item.productId)">Remove</button>
    </div>
  </div>

  <div class="cart-summary">
    <h3>Total: ${{ cart.totalPrice }}</h3>
    <button class="clear-btn" (click)="clear()">Clear Cart</button>
    <button class="checkout-btn" routerLink="/order" >Checkout</button>
  </div>
</div>

<ng-template #emptyCart>
  <p>Your cart is empty.</p>
</ng-template> -->


<div *ngIf="cart$ | async as cart; else emptyCart" class="cart-container">
  <h2 class="cart-title">ğŸ›’ My Cart</h2>

  <div *ngFor="let item of cart.items" class="cart-item">
    <img [src]="StaticURL + '/' + item.imgurl" alt="{{ item.productName }}" class="cart-img">

    <div class="cart-details">
      <h3 class="product-name">{{ item.productName }}</h3>
      <p class="price">Price: <span>${{ item.priceAtAdd }}</span></p>

      <div *ngIf="item.stockStatus !== 'In Stock'" class="stock-warning">
        {{ item.stockStatus === 'Limited Stock' ? 'âš  Limited stock! Max 5 items.' : 'âŒ Out of Stock!' }}
      </div>

      <div class="quantity-controls">
        <button (click)="decrease(item.productId)" class="qty-btn">-</button>
        <span class="qty">{{ item.quantity }}</span>
        <button (click)="increase(item.productId)" class="qty-btn">+</button>
      </div>

      <button class="remove-btn" (click)="remove(item.productId)">ğŸ—‘ Remove</button>
    </div>
  </div>

  <div class="cart-summary">
    <h3>Total: <span>${{ cart.totalPrice }}</span></h3>
    <button class="clear-btn" (click)="clear()">ğŸ§¹ Clear Cart</button>
    <button class="checkout-btn" routerLink="/order">âœ… Checkout</button>
  </div>
</div>

<ng-template #emptyCart>
  <div class="empty-cart">
    <p>Your cart is empty ğŸ›</p>
  </div>
</ng-template>
