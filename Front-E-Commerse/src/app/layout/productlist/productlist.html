
 <div class="container mt-4">

  <!-- ---------- Search & Filter ---------- -->
  <form [formGroup]="filterForm" class="row mb-4 g-2 align-items-end">
    <div class="col-md-3">
      <label>Search</label>
      <input type="text" class="form-control" formControlName="keyword" placeholder="Enter keyword" />
    </div>
    <div class="col-md-2">
      <label>Category</label>
      <select class="form-select" formControlName="category">
        <option value="">All</option>
        <option *ngFor="let c of categories" [value]="c._id">{{ c.name }}</option>
      </select>
    </div>
    <div class="col-md-2">
      <label>Gender</label>
      <select class="form-select" formControlName="gender">
        <option value="">All</option>
        <option value="men">Men</option>
        <option value="women">Women</option>
      </select>
    </div>
    
    <div class="col-md-1">
      <label>Sort By</label>
      <select class="form-select" formControlName="sortBy">
        <option value="Price">Price</option>
        <option value="title">Title</option>
      </select>
    </div>
    <div class="col-md-1">
      <label>Order</label>
      <select class="form-select" formControlName="order">
        <option value="asc">Asc</option>
        <option value="desc">Desc</option>
      </select>
    </div>
  </form>

  <!-- ---------- Products Grid ---------- -->
  <div class="product-grid">
    <div class="product-card" *ngFor="let product of products">
      <img [src]="staticURL + '/' + product.imgurl" alt="{{ product.title }}" class="product-img" />
      <h3>{{ product.title }}</h3>
      <p>{{ product.desc }}</p>
      <p>$ {{ product.price }}</p>
      <div class="product-stock" [ngClass]="{
        'in-stock': product.stockStatus === 'In Stock',
        'limited-stock': product.stockStatus === 'Limited Stock',
        'out-of-stock': product.stockStatus === 'Out of Stock'
      }">{{ product.stockStatus }}</div>

      <div *ngIf="cart$ | async as cart">
        <button (click)="addOrRemoveFromCart(product, cart)">
          {{ isInCart(product._id, cart) ? 'Remove from Cart' : 'Add to Cart' }}
        </button>
        <button class="btn details-btn btn-sm" [routerLink]="'/product/' + product.route">View Details</button>
      </div>
    </div>
  </div>
</div>

